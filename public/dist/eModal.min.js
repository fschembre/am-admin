(function(n){n(["jquery"],function(n){function lt(n){t.modal(ut).find(".modal-content").append(n)}function ot(){e=null;v.length=0}function p(n){return typeof n=="function"}function st(t){var e,o,s,i,f,u;if(t===!1)return r;if(e=n(c).addClass("modal-footer").prop("id",ct),t)for(o=0,s=t.length;o<s;o++){i=t[o];f=n("<button>").addClass("btn btn-"+(i.style||"primary"));for(u in i)if(i.hasOwnProperty(u))switch(u){case"close":i[u]&&f.attr("data-dismiss","modal").addClass("x");break;case nt:f.click(i.click);break;case"text":f.html(i[u]);break;default:f.attr(u,i[u])}e.append(f)}else e.append('<button class="x btn btn-primary" data-dismiss=modal type=button>Close<\/button>');return e}function at(t){var r,u=t.loading?i.loadingHtml:t.message||t;return u.on||u.onclick?(r=t.clone===!0?n(u).clone():n(u),r.addClass(t.useBin&&!t.loading?g:et)):r=n(c).addClass(d).html(u),t.css&&t.css!==r.css&&r.css(t.css),r}function vt(){function i(){return n('<div class="modal fade" tabindex="-1"><style>.modal-xl{width:96%;}<\/style><div class=modal-dialog><div class=modal-content> <div class=modal-header><button type=button class="x close" data-dismiss=modal><span aria-hidden=true>&times;<\/span><span class=sr-only>Close<\/span><\/button><h4 class=modal-title><\/h4><\/div><\/div><\/div><\/div>').on("hidden.bs.modal",ht).on(nt,"button.x",function(i){var r=n(i.currentTarget);if(r.prop("type")!==a)return t.modal(b);try{if(r.closest("form")[0].checkValidity())return s()}catch(u){return s()}return t})}t||(document.getElementById(h)||n("body").append(n(c).prop("id",h).hide()),t=i(),y.element=t);return t.on(l,function(){n(this).find(tt).first().focus()})}function ht(){if(t){var n=t.find("."+g).removeClass(g).appendTo("#"+h);t.off(k).off(l).find(".modal-content > div:not(:first-child)").remove();ot();(!i.allowContentRecycle||rt.clone)&&n.remove()}}function yt(t,u){if(!t)throw new Error("Invalid parameters!");ht();rt=t;var f=vt();f.find(".modal-dialog").removeClass("modal-sm modal-lg modal-xl").addClass(t.size?"modal-"+t.size:i.size);f.find(".modal-title").html((t.title||u||i.title)+" ").append(n("<small>").html(t.subtitle||r));f.on(k,t.onHide)}function f(n){var i=v.shift(),r;if(i)try{return r=i.success(n||t),f(r)}catch(u){w(u,i)}return n}function w(n,t){t||(t=v.shift());t&&p(t.error)&&t.error(n);p(e)&&(e(n),e=null);ot()}function pt(n){p(n)&&(e=n)}function wt(n,t){if(p(n)){var i={error:t,success:n};v.push(i)}return y}function bt(r,u){function s(n,i){var r=i==="error",u;t.on(l,r?w:f);r&&(u='<div class="alert alert-danger"><strong>XHR Fail: <\/strong>Url [ '+e.url+"] load fail.<\/div>",t.find("."+d).html(u))}var e={async:!0,loading:!0,title:r.title||u||i.title,url:r.url||r};return r.url&&n.extend(e,r),o(e,u).element.find("."+d).load(e.url,s),y}function o(i,r){yt(i,r);var u=n(c).append(at(i),st(i.buttons));if(lt(u),!i.async)t.on(l,f);return y}function kt(t,r){function e(t){s();var i=n(t.currentTarget).html();return u[i]?f():w()}return o({async:!0,buttons:[{close:!0,click:e,text:u[t.label]?u[t.label]:u[i.confirmLabel],style:it},{close:!0,click:e,text:u[t.label]?t.label:i.confirmLabel}],message:t.message||t,onHide:e,size:t.size,title:t.title||r})}function dt(t,r){function s(){return n(this).parent().find("div."+et).fadeOut(function(){n(this).remove()}),f()}var u='<div class=modal-body style="position: absolute;width: 100%;background-color: rgba(255,255,255,0.8);height: 100%;">%1%<\/div><iframe class="embed-responsive-item" frameborder=0 src="%0%" style="width:100%;height:75vh;display:block;"/>'.replace("%0%",t.message||t.url||t).replace("%1%",i.loadingHtml),e=n(u).load(s);return o({async:!0,buttons:t.buttons||!1,message:e,size:t.size||ft.xl,title:t.title||r})}function gt(){return n("#"+h+" > *").remove()}function ni(e,h){function b(n){var i=t.find(tt).val();return s(),n.type!==a?w(i):f(i),!1}var c={},l,v,y,p;if(typeof e=="object"?n.extend(c,e):(c.message=e,c.title=h),c.async=!0,c.buttons)for(v=0,y=c.buttons.length;v<y;v++)l=c.buttons[v],l.style=(l.style||"default")+" pull-left",l.type=l.type||"button";return p=st([{close:!0,type:"reset",text:u.OK,style:it},{close:!1,type:a,text:i.confirmLabel}].concat(c.buttons||[])),c.buttons=!1,c.onHide=b,c.message=n('<form role=form style="margin-bottom:0;"><div class=modal-body><label for=prompt-input class=control-label>'+(c.message||r)+'<\/label><input type=text class=form-control required autocomplete="on" value="'+(c.value||r)+(c.pattern?'" pattern="'+c.pattern:r)+'"><\/div><\/form>').append(p).on(a,b),o(c)}function ti(t){return n.extend(i,t)}function ii(i){return t&&t.remove(),n.extend(ut,i)}function s(){return t&&t.off(k).modal(b),t}var t,h="recycle-bin",e,c='<div style="position:relative;word-wrap:break-word;">',r="",nt="click",b="hide",l="shown.bs.modal",a="submit",ct="eFooter",k=b+".bs.modal",tt="input",it="danger",u={OK:"Cancel",True:"False",Yes:"No"},rt={},d="modal-body",ut={},g="modal-rec",ft={sm:"sm",lg:"lg",xl:"xl"},v=[],et="modal-tmp",i={allowContentRecycle:!0,confirmLabel:"OK",size:r,loadingHtml:'<h5>Loading...<\/h5><div class=progress><div class="progress-bar progress-bar-striped active" style="width: 100%"><\/div><\/div>',title:"Attention"},y={"catch":pt,element:t,then:wt};return{ajax:bt,alert:o,close:s,confirm:kt,emptyBin:gt,iframe:dt,prompt:ni,setEModalOptions:ti,setModalOptions:ii,size:ft,version:"1.2.1"}})})(typeof define=="function"&&define.amd?define:function(n,t){typeof module!="undefined"&&window.module.exports?window.module.exports=t(window.require(n[0])):window.eModal=t(window.$)});
//# sourceMappingURL=eModal.min.js.map
